user www-data;

events{}

#C’est le contexte principal pour tout ce qui concerne les requêtes HTTP et HTTPS
http {

   #C’est un bloc serveur : il représente un "site virtuel" dans NGINX.
    server {

        #Dit à NGINX d’écouter le port 443, qui est le port standard pour HTTPS.
        #Le mot ssl active le mode sécurisé (TLS/SSL) pour cette écoute.
        listen 443 ssl;

        #Nom de domaine auquel ce serveur va répondre.
        server_name sben-tay.42.fr;

        #Chemins vers le certificat SSL et sa clé privée, copiés dans le container.
        ssl_certificate /etc/nginx/certs/selfsigned.crt;
        ssl_certificate_key /etc/nginx/certs/selfsigned.key;

        #TLS (Transport Layer Security) est le protocole qui chiffre les connexions HTTPS
        ssl_protocols TLSv1.2 TLSv1.3;

        #Définit quels algorithmes de chiffrement sont autorisés.
        ssl_ciphers HIGH:!aNULL:!MD5;

        #Ce bloc définit le comportement du serveur quand une requête est envoyée à /
        location / {
            return 200 "Welcome to NGINX over HTTPS\n";
        }
    }
}
